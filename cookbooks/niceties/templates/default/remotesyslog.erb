# Generated by Chef for <%= node['fqdn'] %>
<% @line=''
   unless node.include?'rsyslog'
    puts "no rsyslog section.  Please add to overrides in this node's envrionment"
    @line="#A remote syslog definition would go here"
   else
     unless node['rsyslog'].include?'method'
      puts "no method (udp or tcp) listed, assuming udp"
      @line="*.* @#{node['rsyslog']['remote']}"
    else
      if node['rsyslog']['method'].downcase=='tcp'
        @line="*.* @@#{node['rsyslog']['remote']}"
      elsif node['rsyslog']['method'].downcase=='udp'
        @line="*.* @#{node['rsyslog']['remote']}"
      else
        puts "Malformed method @line #{node['rsyslog']['method']}.  Should be tcp or udp"
        puts "defaulting to udp, but you should fix this"
        @line="*.* @#{node['rsyslog']['remote']}"
      end
    end
  end
 %>
<%= @line %>
# Generated by Chef for <%= node['fqdn'] %>
