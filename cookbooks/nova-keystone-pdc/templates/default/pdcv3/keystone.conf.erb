## This file managed by Chef, all changes will be overwritten ##
# Edited on 26/7/2016

[DEFAULT]
auth_region = regionOne
bind_host = 0.0.0.0
public_port = 5000
admin_port = 35357
#admin token must be generated with 'openssl rand -hex 10'
admin_token = <%= node['keystone']['admin_token'] %>
compute_port = 8774
verbose = True
debug = True
log_config = /etc/keystone/logging.conf

##RabbitMQ
rabbit_host=<%= node['rabbitmq']['host'] %>
rabbit_port=5672

# The RabbitMQ userid. (string value)
rabbit_userid=openstack
rabbit_password=<%= node['rabbitmq']['passwd'] %>

##RPC


## EC2 tokens
#keystone_ec2_url=http://localhost:5000/v2.0/ec2tokens


## Syslog

## JSON file containing policy (string value)

[assignment]

[auth]

[cache]

[catalog]

[credential]

[database]
connection = mysql://keystone:<%= node['mysql']['keystone_passwd'] %>@<%= node['mysql']['host'] %>/keystone
idle_timeout = 200

[ec2]

[endpoint_filter]

[federation]

[identity]

[kvs]

[ldap]

[matchmaker_ring]

[memcache]
# Based on Lab
server = localhost:11211

[oauth1]

[os_inherit]
enabled=true

[paste_deploy]

[policy]

[revoke]

[signing]

#[ssl]

[stats]
#driver=keystone.contrib.stats.backends.kvs.Stats

[token]
driver = keystone.token.persistence.backends.sql.Token
expiration = <%= node['keystone']['token_expiration'] %>

[trust]

#[filter:json_body]

#[pipeline:public_api]

#[pipeline:admin_api]

#[pipeline:public_version_api]

#[pipeline:admin_version_api]


# This file was auto-generated by Chef for <%=node['ipaddress']%>
