## This file managed by Chef, all changes will be overwritten ##
http_port 3128

refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320

#acl all src 0.0.0.0/0.0.0.0
acl localhost src 127.0.0.1/32 ::1
acl to_localhost dst 127.0.0.0/8 0.0.0.0/32 ::1

acl localnet src 10.0.0.0/8     # RFC 1918 possible internal network
#acl localnet src 172.16.0.0/12  # RFC 1918 possible internal network
#acl localnet src 192.168.0.0/16 # RFC 1918 possible internal network
#acl localnet src fc00::/7       # RFC 4193 local private network range
#acl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines

acl Safe_ports port 80          # http
acl Safe_ports port 443          # https
acl Safe_ports port 8080          # https
acl SSL_ports port 443		#https for CONNECT acl
acl ftp_ports port 20 21
acl CONNECT method CONNECT

acl REMOTEdebian dstdomain archive.ubuntu.com security.ubuntu.com mirror.anl.gov security.debian.org http.us.debian.org keyserver.ubuntu.com mirror.csclub.uwaterloo.ca us.archive.ubuntu.com
acl Oracle      dstdomain .launchpad.net download.oracle.com download.java.net
acl KeyService dstdomain ks.osdc.io keyservice.opensciencedatacloud.org
acl cghub	dstdomain cghub.ucsc.edu
acl internal	dstdomain source.bionimbus.org git.bionimbus.org
acl openid	dstdomain www.google.com
acl python dstdomain .pypi.python.org
#RT:XXXX allison/matt request
acl bioconductor dstdomain .bioconductor.org
# RT:1765, updated KayakoTicket:622 jspring 12082014
acl R dstdomain cran.r-project.org streaming.stat.iastate.edu cran.wustl.edu cran.cnr.Berkeley.edu cran.fhcrc.org cran.rstudio.com
# RT:1765, T203/kschmitt
acl nova    dstdomain 10.103.105.2
acl cpan    dstdomain mirrors.syringanetworks.net mirror.atlantic.net
acl cloudera dstdomain archive.cloudera.com www.carfab.com code.google.com apache.mirrors.spacedump.net www.webhostingjams.com issues.apache.org repository.jboss.org repo.maven.apache.org repository.apache.org
acl hriordan dstdomain 192.170.232.66 #K:321
acl chef dstdomain apt.opscode.com #K:04112014
acl harv dstdomain pngu.mgh.harvard.edu # KS:1343
acl clamav dstdomain .clamav.net #KS for clam updates

#RT: 2971/2977 KS
acl mforde dstdomain ftp-trace.ncbi.nlm.nih.gov
http_access allow Safe_ports mforde
http_access allow ftp_ports

#http_access allow manager localhost
http_access allow Safe_ports REMOTEdebian
http_access allow Safe_ports Oracle
http_access allow Safe_ports KeyService
http_access allow Safe_ports cghub
http_access allow Safe_ports internal
http_access allow Safe_ports openid
http_access allow Safe_ports python
http_access allow Safe_ports bioconductor
http_access allow Safe_ports R
http_access allow Safe_ports chef
http_access allow Safe_ports clamav
http_access allow nova
http_access allow Safe_ports cpan
http_access allow ftp_ports cpan
http_access allow SSL_ports CONNECT
http_access allow Safe_ports cloudera
http_access allow Safe_ports hriordan
http_access allow Safe_ports harv
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
http_access deny all
# This file was auto-generated by Chef for <%=node['ipaddress']%>
